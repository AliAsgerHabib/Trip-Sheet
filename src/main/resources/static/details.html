<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Details Dashboard</title>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
    >
    <script type="module" src="js/nazafat-header.js"></script>
    <style>
        body {
          background: #f0f4f8;
          font-family: 'Segoe UI', sans-serif;
        }

        .table-container {
          margin-top: 60px;
          padding: 40px;
          background: #fff;
          border-radius: 12px;
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.07);
        }

        h2 {
          font-weight: 600;
          margin-bottom: 30px;
          color: #1f3c88;
        }

        table thead th {
          background-color: #1f3c88;
          color: #fff;
          border: none;
          text-align: center;
        }

        table tbody tr:nth-child(odd) {
          background-color: #fff7e6;
        }

        table tbody tr:nth-child(even) {
          background-color: #fff1cc;
        }

        table tbody td {
          text-align: center;
          vertical-align: middle;
          font-size: 15px;
          color: #333;
        }

        footer {
          margin-top: 70px;
          text-align: center;
          color: #888;
        }
    </style>
</head>
<body>
<nazafat-header></nazafat-header>
<div class="container">
    <div class="table-container">
        <h2>ðŸ“‹ Dry Storage Data</h2>
        <table class="table table-hover">
            <thead>
            <tr>
                <th>ID</th>
                <th>Zone</th>
                <th>Entry Time</th>
                <th>Team Member</th>
                <th>Dry Storage Items</th>
            </tr>
            </thead>
            <tbody id="details-table-body">
            <tr><td colspan="3" class="text-muted text-center">Loading...</td></tr>
            </tbody>
        </table>
    </div>
    <footer>
        &copy; 2025 Ashara Madras | Powered by Spring Boot & Bootstrap âœ¨
    </footer>
</div>

<script>
    const username = 'yourUsername';
    const password = 'yourPassword';
    const encodedCredentials = btoa(`${username}:${password}`);
    const apiUrl = 'http://localhost:8080/ashara-trip-sheet/details/dryStorage';

    fetch(apiUrl, {
      method: 'GET',
      headers: {
        'Authorization': `Basic ${encodedCredentials}`,
        'Content-Type': 'application/json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const tableBody = document.getElementById('details-table-body');
        tableBody.innerHTML = '';
        data.forEach(item => {
          const row = `
          <tr>
            <td>${item.id}</td>
            <td>${item.zone}</td>
            <td>${item.entryTime}</td>
            <td>${item.teamMemberName}</td>
            <td>${item.dryStorageItemsList}</td>
          </tr>
        `;
          tableBody.insertAdjacentHTML('beforeend', row);
        });
      })
      .catch(error => {
        console.error('Fetch error:', error);
        document.getElementById('details-table-body').innerHTML =
          `<tr><td colspan="3" class="text-danger text-center">Failed to load data.</td></tr>`;
      });
</script>
</body>
</html>